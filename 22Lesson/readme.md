TODO:
--------------
#STACK
1. Telebot
2. Flask(flask restfull)
3. Mongo DB
4. VPS Google Cloud.
5. Webhook.  
6. Marshmallow.

#Functionality(функциональность)
1. Бот.
1.1. Предоставлять пользователю список доступных категорий (с подкатегориями).
1.2. Предоставлять пользователю список доступных продуктов определенной категории.
1.3. Просмотр информации о продукте. (изображение, описание, цена , скидка)
1.4. Корзина
1.5. Оформление заказов.  
1.6. Просмотр корзины.
1.7. Просмотр продуктов со скидкой.

2. REST API
2.1. Просмотр заказов.
2.2. CRUD (Редактирование заказов, просмотр, описание.)

#Implementation
1. Категории.
2. Продукты.
3. Корзины.
4. Пользователи бота.
5. Тексты.
6. Заказы.
7. Админы.

#Практика #1
1. Реализовать коллекцию текстов (choices внутри коллекции)
- Реализовано 
2. Реализовать бот, который будет на старте делать следующее:
2.1. Приветствовать юзера.
- Реализовано 
2.2. Отправлять ему список шаблонных кнопок.(Товары со скидкой, Категории, Моя корзина)
- Реализовано (Кнопки стартового меню: "Товары со скидкой", "Моя корзина",  "Категории", 
"Настройки", "Помощь", "Поиск товара")
2.3. Написать хендлер к кнопке "категории". Категориии выводятся с помощью InlineKeyboardButton и 
InlineKeyboardMarkup
- Реализовано
3) Описать коллекцию юзера.
- Реализовано
3.1 При старте инициализировать юзера.
- Реализовано. Данные юзера хранятся в TempData до тех пор, пока юзер не совершит покупку. 
4) Описать аттрибуты товара используя EmbededDocumentField.
- Реализовано

#Практика №3
1) Реализовать вывод категорий, в случае если выводимая категория содержит подкатегории,
при клике на нее, замещать сообщение списком из подкатегорий (edit_message).
- Реализовано
2) Если категория не содержит подкатегорий, выводить ее продукты.
Каждый продукт - это отдельное сообщение, состоящее из описания, тайтла и картинки.
- Реализовано
3)Зарегистрироваться и ознакомиться с google.cloud(разобраться как создать ВМ)
- Реализовано
#Практика №4"
1) При клике на конечную категорию выводить все товары этой категории
- Реализовано
2) Создать экземпляр ВМ на google.cloud
Требования к ВМ
цп - 1 ядро
ОП - 1.5 гига
диск - 30
ОС - Ubuntu Server 18.04
сервер - Европа.
#Практика №5
1) При клике на кнопку "Добавить в корзину" добавлять товар в корзину(Добавлять эту кнопку к каждому продукту)
- Реализовано
2) При нажатии на кнопку "Корзина", выводить ее содиржимое с общей стоимостью.
- Реализовано
3*) После добавления товара в корзину, должна быть возможность изменения количества товара.
- Реализовано(Добавить или Удалить одну единицу товара, Удалить товар, Очистить корзину полностью)
4) Если категория не рут, добавить кнопку "Назад", которая будет возвращать к списку категорий.
- Реализовано как для Inline клавиатуры, так и для Reply (с запоминанием предыдущего состояния)
#Практика №6
1) Реализовать REST доступ к приложению. 
- Реализовано
2) Для одновременного существования бота и рест брать Blueprint.
- Реализовано
3) Возможность оформления заказа.(Подтверждение корзины)
- Реализовано. Без ввода номера телефона, заказ не пройдет.
-----------------------------------------
#Отдельно реализованы следующие фичи:
-----------------------------------------
Реализованы статусы пользователя :
0: - ban
1: Просто посетитель
2: Временно зарегистрированный посетитель(уже оформлял товар - но не покупал).
3: Наш покупатель

Реализован торговый бот , который может:
- Вывод из корзины товара, который был заказан и подсчетом общей суммы заказа.
- Реализована кнопка "Назад" (Reply), которая запоминает предыдущее состояние клавиатуры и перебрасывает  пользователя 
    туда.
- Специально для Inline клавиатуры реализована своя кнопка "Назад", которая возвращает на вырхнее меню. (при условии,
    что текущее имеет родителя)
- Реализованы настройки пользователя, в которых он может добавить - поменять свои реквизиты.
- Реализован поиск товара по базе. Вводим Title товара и бот ищет товар по маске (.*title.*, re.IGNORECASE).
- Реализована Корзина, в которой можно:
                 - изменять количество заказанного товара.
                 - удалять товар.
                 - очищать корзину.

- До тех пор, пока покупатель не совершил покупку, он у нас находится в TempData. После покупки мы его переводим в
    Коллекцию: Users. В идеале , совершение покупки должен отмечать оператор, но у нас такой возможности нет, поэтому
    считаем, что как только покупатель оформил заказ - сразу была совершена покупка.
- Оформление заказа происходит после проверки товара в корзине и утверждения покупателем своих реквизитов.
- При оформлении заказа обязательно должен присутствовать контактный номер телефона.

- После оформления заказа, создается Коллекция с юзером, который оформил заказ и ему присваивается статус 3.
     Если в дальнейшем юзер будет совершать покупки, общая сумма заказов будет накапливаться и можно конкретно для него
     реализовать дискоунт

- Отдельно написан сидер seeder.py, который сидит с рендомными атрибутами, ценами, скидками, картинками в категории,
    которые мы ему жестко прописываем.

- Отдельно реализован доступ на вебстраницу админа с авторизацией.
    Проверка на права доступа отсуществляется следующим образом...
    Мы при вводе логин-пароль проверяемся в бд на право доступа на страницу, если такое право запиcано в бд для этого
    пользователя - нам разрешается вход и об этом идет запись к нам в кукисы. 
    Дальнейшее попадание на страницу - через кукисы.

- В rest все работает через ValidationError и Schema.